(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function _(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(i){if(i.ep)return;i.ep=!0;const r=_(i);fetch(i.href,r)}})();var q,p,ce,E,J,ue,j,O={},se=[],we=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function $(e,t){for(var _ in t)e[_]=t[_];return e}function fe(e){var t=e.parentNode;t&&t.removeChild(e)}function Ne(e,t,_){var o,i,r,l={};for(r in t)r=="key"?o=t[r]:r=="ref"?i=t[r]:l[r]=t[r];if(arguments.length>2&&(l.children=arguments.length>3?q.call(arguments,2):_),typeof e=="function"&&e.defaultProps!=null)for(r in e.defaultProps)l[r]===void 0&&(l[r]=e.defaultProps[r]);return U(e,l,o,i,null)}function U(e,t,_,o,i){var r={type:e,props:t,key:_,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++ce};return i==null&&p.vnode!=null&&p.vnode(r),r}function H(e){return e.children}function M(e,t){this.props=e,this.context=t}function S(e,t){if(t==null)return e.__?S(e.__,e.__.__k.indexOf(e)+1):null;for(var _;t<e.__k.length;t++)if((_=e.__k[t])!=null&&_.__e!=null)return _.__e;return typeof e.type=="function"?S(e):null}function ae(e){var t,_;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((_=e.__k[t])!=null&&_.__e!=null){e.__e=e.__c.base=_.__e;break}return ae(e)}}function Q(e){(!e.__d&&(e.__d=!0)&&E.push(e)&&!W.__r++||J!==p.debounceRendering)&&((J=p.debounceRendering)||ue)(W)}function W(){var e,t,_,o,i,r,l,f;for(E.sort(j);e=E.shift();)e.__d&&(t=E.length,o=void 0,i=void 0,l=(r=(_=e).__v).__e,(f=_.__P)&&(o=[],(i=$({},r)).__v=r.__v+1,G(f,r,i,_.__n,f.ownerSVGElement!==void 0,r.__h!=null?[l]:null,o,l??S(r),r.__h),ve(o,r),r.__e!=l&&ae(r)),E.length>t&&E.sort(j));W.__r=0}function de(e,t,_,o,i,r,l,f,u,a){var n,v,s,c,h,N,m,y=o&&o.__k||se,d=y.length;for(_.__k=[],n=0;n<t.length;n++)if((c=_.__k[n]=(c=t[n])==null||typeof c=="boolean"||typeof c=="function"?null:typeof c=="string"||typeof c=="number"||typeof c=="bigint"?U(null,c,null,null,c):Array.isArray(c)?U(H,{children:c},null,null,null):c.__b>0?U(c.type,c.props,c.key,c.ref?c.ref:null,c.__v):c)!=null){if(c.__=_,c.__b=_.__b+1,(s=y[n])===null||s&&c.key==s.key&&c.type===s.type)y[n]=void 0;else for(v=0;v<d;v++){if((s=y[v])&&c.key==s.key&&c.type===s.type){y[v]=void 0;break}s=null}G(e,c,s=s||O,i,r,l,f,u,a),h=c.__e,(v=c.ref)&&s.ref!=v&&(m||(m=[]),s.ref&&m.push(s.ref,null,c),m.push(v,c.__c||h,c)),h!=null?(N==null&&(N=h),typeof c.type=="function"&&c.__k===s.__k?c.__d=u=pe(c,u,e):u=he(e,c,s,y,h,u),typeof _.type=="function"&&(_.__d=u)):u&&s.__e==u&&u.parentNode!=e&&(u=S(s))}for(_.__e=N,n=d;n--;)y[n]!=null&&(typeof _.type=="function"&&y[n].__e!=null&&y[n].__e==_.__d&&(_.__d=ye(o).nextSibling),ge(y[n],y[n]));if(m)for(n=0;n<m.length;n++)me(m[n],m[++n],m[++n])}function pe(e,t,_){for(var o,i=e.__k,r=0;i&&r<i.length;r++)(o=i[r])&&(o.__=e,t=typeof o.type=="function"?pe(o,t,_):he(_,o,o,i,o.__e,t));return t}function he(e,t,_,o,i,r){var l,f,u;if(t.__d!==void 0)l=t.__d,t.__d=void 0;else if(_==null||i!=r||i.parentNode==null)e:if(r==null||r.parentNode!==e)e.appendChild(i),l=null;else{for(f=r,u=0;(f=f.nextSibling)&&u<o.length;u+=1)if(f==i)break e;e.insertBefore(i,r),l=r}return l!==void 0?l:i.nextSibling}function ye(e){var t,_,o;if(e.type==null||typeof e.type=="string")return e.__e;if(e.__k){for(t=e.__k.length-1;t>=0;t--)if((_=e.__k[t])&&(o=ye(_)))return o}return null}function $e(e,t,_,o,i){var r;for(r in _)r==="children"||r==="key"||r in t||V(e,r,null,_[r],o);for(r in t)i&&typeof t[r]!="function"||r==="children"||r==="key"||r==="value"||r==="checked"||_[r]===t[r]||V(e,r,t[r],_[r],o)}function X(e,t,_){t[0]==="-"?e.setProperty(t,_??""):e[t]=_==null?"":typeof _!="number"||we.test(t)?_:_+"px"}function V(e,t,_,o,i){var r;e:if(t==="style")if(typeof _=="string")e.style.cssText=_;else{if(typeof o=="string"&&(e.style.cssText=o=""),o)for(t in o)_&&t in _||X(e.style,t,"");if(_)for(t in _)o&&_[t]===o[t]||X(e.style,t,_[t])}else if(t[0]==="o"&&t[1]==="n")r=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+r]=_,_?o||e.addEventListener(t,r?Z:Y,r):e.removeEventListener(t,r?Z:Y,r);else if(t!=="dangerouslySetInnerHTML"){if(i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="width"&&t!=="height"&&t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t in e)try{e[t]=_??"";break e}catch{}typeof _=="function"||(_==null||_===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,_))}}function Y(e){return this.l[e.type+!1](p.event?p.event(e):e)}function Z(e){return this.l[e.type+!0](p.event?p.event(e):e)}function G(e,t,_,o,i,r,l,f,u){var a,n,v,s,c,h,N,m,y,d,w,k,P,A,C,x=t.type;if(t.constructor!==void 0)return null;_.__h!=null&&(u=_.__h,f=t.__e=_.__e,t.__h=null,r=[f]),(a=p.__b)&&a(t);try{e:if(typeof x=="function"){if(m=t.props,y=(a=x.contextType)&&o[a.__c],d=a?y?y.props.value:a.__:o,_.__c?N=(n=t.__c=_.__c).__=n.__E:("prototype"in x&&x.prototype.render?t.__c=n=new x(m,d):(t.__c=n=new M(m,d),n.constructor=x,n.render=Ae),y&&y.sub(n),n.props=m,n.state||(n.state={}),n.context=d,n.__n=o,v=n.__d=!0,n.__h=[],n._sb=[]),n.__s==null&&(n.__s=n.state),x.getDerivedStateFromProps!=null&&(n.__s==n.state&&(n.__s=$({},n.__s)),$(n.__s,x.getDerivedStateFromProps(m,n.__s))),s=n.props,c=n.state,n.__v=t,v)x.getDerivedStateFromProps==null&&n.componentWillMount!=null&&n.componentWillMount(),n.componentDidMount!=null&&n.__h.push(n.componentDidMount);else{if(x.getDerivedStateFromProps==null&&m!==s&&n.componentWillReceiveProps!=null&&n.componentWillReceiveProps(m,d),!n.__e&&n.shouldComponentUpdate!=null&&n.shouldComponentUpdate(m,n.__s,d)===!1||t.__v===_.__v){for(t.__v!==_.__v&&(n.props=m,n.state=n.__s,n.__d=!1),n.__e=!1,t.__e=_.__e,t.__k=_.__k,t.__k.forEach(function(L){L&&(L.__=t)}),w=0;w<n._sb.length;w++)n.__h.push(n._sb[w]);n._sb=[],n.__h.length&&l.push(n);break e}n.componentWillUpdate!=null&&n.componentWillUpdate(m,n.__s,d),n.componentDidUpdate!=null&&n.__h.push(function(){n.componentDidUpdate(s,c,h)})}if(n.context=d,n.props=m,n.__P=e,k=p.__r,P=0,"prototype"in x&&x.prototype.render){for(n.state=n.__s,n.__d=!1,k&&k(t),a=n.render(n.props,n.state,n.context),A=0;A<n._sb.length;A++)n.__h.push(n._sb[A]);n._sb=[]}else do n.__d=!1,k&&k(t),a=n.render(n.props,n.state,n.context),n.state=n.__s;while(n.__d&&++P<25);n.state=n.__s,n.getChildContext!=null&&(o=$($({},o),n.getChildContext())),v||n.getSnapshotBeforeUpdate==null||(h=n.getSnapshotBeforeUpdate(s,c)),C=a!=null&&a.type===H&&a.key==null?a.props.children:a,de(e,Array.isArray(C)?C:[C],t,_,o,i,r,l,f,u),n.base=t.__e,t.__h=null,n.__h.length&&l.push(n),N&&(n.__E=n.__=null),n.__e=!1}else r==null&&t.__v===_.__v?(t.__k=_.__k,t.__e=_.__e):t.__e=He(_.__e,t,_,o,i,r,l,u);(a=p.diffed)&&a(t)}catch(L){t.__v=null,(u||r!=null)&&(t.__e=f,t.__h=!!u,r[r.indexOf(f)]=null),p.__e(L,t,_)}}function ve(e,t){p.__c&&p.__c(t,e),e.some(function(_){try{e=_.__h,_.__h=[],e.some(function(o){o.call(_)})}catch(o){p.__e(o,_.__v)}})}function He(e,t,_,o,i,r,l,f){var u,a,n,v=_.props,s=t.props,c=t.type,h=0;if(c==="svg"&&(i=!0),r!=null){for(;h<r.length;h++)if((u=r[h])&&"setAttribute"in u==!!c&&(c?u.localName===c:u.nodeType===3)){e=u,r[h]=null;break}}if(e==null){if(c===null)return document.createTextNode(s);e=i?document.createElementNS("http://www.w3.org/2000/svg",c):document.createElement(c,s.is&&s),r=null,f=!1}if(c===null)v===s||f&&e.data===s||(e.data=s);else{if(r=r&&q.call(e.childNodes),a=(v=_.props||O).dangerouslySetInnerHTML,n=s.dangerouslySetInnerHTML,!f){if(r!=null)for(v={},h=0;h<e.attributes.length;h++)v[e.attributes[h].name]=e.attributes[h].value;(n||a)&&(n&&(a&&n.__html==a.__html||n.__html===e.innerHTML)||(e.innerHTML=n&&n.__html||""))}if($e(e,s,v,i,f),n)t.__k=[];else if(h=t.props.children,de(e,Array.isArray(h)?h:[h],t,_,o,i&&c!=="foreignObject",r,l,r?r[0]:_.__k&&S(_,0),f),r!=null)for(h=r.length;h--;)r[h]!=null&&fe(r[h]);f||("value"in s&&(h=s.value)!==void 0&&(h!==e.value||c==="progress"&&!h||c==="option"&&h!==v.value)&&V(e,"value",h,v.value,!1),"checked"in s&&(h=s.checked)!==void 0&&h!==e.checked&&V(e,"checked",h,v.checked,!1))}return e}function me(e,t,_){try{typeof e=="function"?e(t):e.current=t}catch(o){p.__e(o,_)}}function ge(e,t,_){var o,i;if(p.unmount&&p.unmount(e),(o=e.ref)&&(o.current&&o.current!==e.__e||me(o,null,t)),(o=e.__c)!=null){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(r){p.__e(r,t)}o.base=o.__P=null,e.__c=void 0}if(o=e.__k)for(i=0;i<o.length;i++)o[i]&&ge(o[i],t,_||typeof e.type!="function");_||e.__e==null||fe(e.__e),e.__=e.__e=e.__d=void 0}function Ae(e,t,_){return this.constructor(e,_)}function Ee(e,t,_){var o,i,r;p.__&&p.__(e,t),i=(o=typeof _=="function")?null:_&&_.__k||t.__k,r=[],G(t,e=(!o&&_||t).__k=Ne(H,null,[e]),i||O,O,t.ownerSVGElement!==void 0,!o&&_?[_]:i?null:t.firstChild?q.call(t.childNodes):null,r,!o&&_?_:i?i.__e:t.firstChild,o),ve(r,e)}q=se.slice,p={__e:function(e,t,_,o){for(var i,r,l;t=t.__;)if((i=t.__c)&&!i.__)try{if((r=i.constructor)&&r.getDerivedStateFromError!=null&&(i.setState(r.getDerivedStateFromError(e)),l=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(e,o||{}),l=i.__d),l)return i.__E=i}catch(f){e=f}throw e}},ce=0,M.prototype.setState=function(e,t){var _;_=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=$({},this.state),typeof e=="function"&&(e=e($({},_),this.props)),e&&$(_,e),e!=null&&this.__v&&(t&&this._sb.push(t),Q(this))},M.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Q(this))},M.prototype.render=H,E=[],ue=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,j=function(e,t){return e.__v.__b-t.__v.__b},W.__r=0;var I,g,R,ee,B=0,be=[],D=[],te=p.__b,_e=p.__r,ne=p.diffed,re=p.__c,oe=p.unmount;function K(e,t){p.__h&&p.__h(g,e,B||t),B=0;var _=g.__H||(g.__H={__:[],__h:[]});return e>=_.__.length&&_.__.push({__V:D}),_.__[e]}function T(e){return B=1,Pe(xe,e)}function Pe(e,t,_){var o=K(I++,2);if(o.t=e,!o.__c&&(o.__=[_?_(t):xe(void 0,t),function(f){var u=o.__N?o.__N[0]:o.__[0],a=o.t(u,f);u!==a&&(o.__N=[a,o.__[1]],o.__c.setState({}))}],o.__c=g,!g.u)){var i=function(f,u,a){if(!o.__c.__H)return!0;var n=o.__c.__H.__.filter(function(s){return s.__c});if(n.every(function(s){return!s.__N}))return!r||r.call(this,f,u,a);var v=!1;return n.forEach(function(s){if(s.__N){var c=s.__[0];s.__=s.__N,s.__N=void 0,c!==s.__[0]&&(v=!0)}}),!(!v&&o.__c.props===f)&&(!r||r.call(this,f,u,a))};g.u=!0;var r=g.shouldComponentUpdate,l=g.componentWillUpdate;g.componentWillUpdate=function(f,u,a){if(this.__e){var n=r;r=void 0,i(f,u,a),r=n}l&&l.call(this,f,u,a)},g.shouldComponentUpdate=i}return o.__N||o.__}function Se(e,t){var _=K(I++,3);!p.__s&&ke(_.__H,t)&&(_.__=e,_.i=t,g.__H.__h.push(_))}function ie(e){return B=5,Ce(function(){return{current:e}},[])}function Ce(e,t){var _=K(I++,7);return ke(_.__H,t)?(_.__V=e(),_.i=t,_.__h=e,_.__V):_.__}function Le(){for(var e;e=be.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(F),e.__H.__h.forEach(z),e.__H.__h=[]}catch(t){e.__H.__h=[],p.__e(t,e.__v)}}p.__b=function(e){g=null,te&&te(e)},p.__r=function(e){_e&&_e(e),I=0;var t=(g=e.__c).__H;t&&(R===g?(t.__h=[],g.__h=[],t.__.forEach(function(_){_.__N&&(_.__=_.__N),_.__V=D,_.__N=_.i=void 0})):(t.__h.forEach(F),t.__h.forEach(z),t.__h=[])),R=g},p.diffed=function(e){ne&&ne(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(be.push(t)!==1&&ee===p.requestAnimationFrame||((ee=p.requestAnimationFrame)||Te)(Le)),t.__H.__.forEach(function(_){_.i&&(_.__H=_.i),_.__V!==D&&(_.__=_.__V),_.i=void 0,_.__V=D})),R=g=null},p.__c=function(e,t){t.some(function(_){try{_.__h.forEach(F),_.__h=_.__h.filter(function(o){return!o.__||z(o)})}catch(o){t.some(function(i){i.__h&&(i.__h=[])}),t=[],p.__e(o,_.__v)}}),re&&re(e,t)},p.unmount=function(e){oe&&oe(e);var t,_=e.__c;_&&_.__H&&(_.__H.__.forEach(function(o){try{F(o)}catch(i){t=i}}),_.__H=void 0,t&&p.__e(t,_.__v))};var le=typeof requestAnimationFrame=="function";function Te(e){var t,_=function(){clearTimeout(o),le&&cancelAnimationFrame(t),setTimeout(e)},o=setTimeout(_,100);le&&(t=requestAnimationFrame(_))}function F(e){var t=g,_=e.__c;typeof _=="function"&&(e.__c=void 0,_()),g=t}function z(e){var t=g;e.__c=e.__(),g=t}function ke(e,t){return!e||e.length!==t.length||t.some(function(_,o){return _!==e[o]})}function xe(e,t){return typeof t=="function"?t(e):t}var Ue=0;function b(e,t,_,o,i,r){var l,f,u={};for(f in t)f=="ref"?l=t[f]:u[f]=t[f];var a={type:e,props:u,key:_,ref:l,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--Ue,__source:i,__self:r};if(typeof e=="function"&&(l=e.defaultProps))for(f in l)u[f]===void 0&&(u[f]=l[f]);return p.vnode&&p.vnode(a),a}function Me({rows:e,cols:t}){const[_,o]=T(Array(e).fill(0,0,e)),[i,r]=T(Array(t).fill(_,0,e)),[l,f]=T([{x:15,y:5},{x:16,y:5}]),u=ie({x:14,y:14}),a=ie("top"),[n,v]=T(0);console.log("rendered!"),Se(()=>{const y=setInterval(()=>h(a.current),200);return document.addEventListener("keydown",s),()=>clearInterval(y)},[]);function s(y){y.key==="ArrowUp"?l.find(d=>d.x===l[0].x-1&&d.y===l[0].y)||(a.current="top"):y.key==="ArrowRight"?l.find(d=>d.x===l[0].x&&d.y===l[0].y+1)||(a.current="right"):y.key==="ArrowDown"?l.find(d=>d.x===l[0].x+1&&d.y===l[0].y)||(a.current="bottom"):y.key==="ArrowLeft"&&(l.find(d=>d.x===l[0].x&&d.y===l[0].y-1)||(a.current="left")),v(d=>d+1)}function c(y,d,w=!1){f(k=>(k.unshift({x:y,y:d}),w===!1&&k.pop(),w===!0&&N(),k))}function h(y){let d=!1;y==="top"&&l[0].x-1!==0?(l[0].x-1===u.current.x&&l[0].y===u.current.y&&(d=!0),c(l[0].x-1,l[0].y,d)):y==="right"&&l[0].y!==e-1?(l[0].x===u.current.x&&l[0].y+1===u.current.y&&(d=!0),c(l[0].x,l[0].y+1,d)):y==="bottom"&&l[0].x!==t-1?(l[0].x+1===u.current.x&&l[0].y===u.current.y&&(d=!0),c(l[0].x+1,l[0].y,d)):y==="left"&&l[0].y!==0&&(l[0].x===u.current.x&&l[0].y-1===u.current.y&&(d=!0),c(l[0].x,l[0].y-1,d)),v(w=>w+1)}function N(){const y=Math.floor(Math.random()*t),d=Math.floor(Math.random()*e);u.current={x:y,y:d}}function m(){if(a.current==="top")return b(H,{children:[b("div",{className:"top-0 right-1 h-0.5 w-0.5 bg-red-500 absolute"}),b("div",{className:"top-0 left-1 h-0.5 w-0.5 bg-red-500 absolute"})]});if(a.current==="right")return b(H,{children:[b("div",{className:"top-1 right-0 h-0.5 w-0.5 bg-red-500 absolute"}),b("div",{className:"bottom-1 right-0 h-0.5 w-0.5 bg-red-500 absolute"})]});if(a.current==="left")return b(H,{children:[b("div",{className:"top-1 left-0 h-0.5 w-0.5 bg-red-500 absolute"}),b("div",{className:"bottom-1 left-0 h-0.5 w-0.5 bg-red-500 absolute"})]});if(a.current==="bottom")return b(H,{children:[b("div",{className:"bottom-0 right-1 h-0.5 w-0.5 bg-red-500 absolute"}),b("div",{className:"bottom-0 left-1 h-0.5 w-0.5 bg-red-500 absolute"})]})}return b("table",{className:"flex border-black border-solid border",children:b("tbody",{children:i.map((y,d)=>b("tr",{children:y.map((w,k)=>{let P;return l.find(A=>A.x===d&&A.y===k)?P="snake":d===u.current.x&&k===u.current.y&&(P="bg-red-500"),b("td",{className:`w-4 h-4 relative ${P}`,children:l[0].x===d&&l[0].y===k&&m()})})}))})})}function De(){return b("div",{className:"flex items-center justify-center",children:b(Me,{rows:60,cols:40})})}Ee(b(De,{}),document.getElementById("app"));
